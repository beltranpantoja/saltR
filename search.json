[{"path":"https://beltranpantoja.github.io/saltR/articles/Creating a single simulation.html","id":"generating-a-sample","dir":"Articles","previous_headings":"","what":"Generating a sample","title":"Creating a single simulation","text":"First ’ll generate 200 respondents default values .5 base rate.","code":"library(saltr)  # by default we have .5 base rate and correlation between the attributes sample <- generate_sample(   sample_size = 200,   total_attrs=3,   base_rate = .5   )  head(sample) ##   Attr1 Attr2 Attr3 ## 1     0     0     0 ## 2     1     1     1 ## 3     0     0     0 ## 4     0     0     1 ## 5     1     0     1 ## 6     0     0     0"},{"path":"https://beltranpantoja.github.io/saltR/articles/Creating a single simulation.html","id":"creating-a-q-matrix","dir":"Articles","previous_headings":"","what":"Creating a Q-Matrix","title":"Creating a single simulation","text":"Now create Q-matrix. want test 3 simple items 6 complex items.","code":"qmatrix <- create_qmatrix(num_attr=3, items_per_type=c(1,2)) qmatrix ##       Attr1 Attr2 Attr3 ## Item1     1     0     0 ## Item2     0     1     0 ## Item3     0     0     1 ## Item4     1     1     0 ## Item5     1     1     0 ## Item6     1     0     1 ## Item7     1     0     1 ## Item8     0     1     1 ## Item9     0     1     1"},{"path":"https://beltranpantoja.github.io/saltR/articles/Creating a single simulation.html","id":"creating-a-test","dir":"Articles","previous_headings":"","what":"Creating a test","title":"Creating a single simulation","text":"Now need create “test”, , matrix item parameter. can creating item parameters item using create_item. example: ’s convenient use create_test. 2 options creating test.","code":"# non masters have a .2 probability of answering correctly and masters .6 item <- create_item(.2, .6)"},{"path":"https://beltranpantoja.github.io/saltR/articles/Creating a single simulation.html","id":"option-1-using-a-matrix","dir":"Articles","previous_headings":"Creating a test","what":"Option 1: Using a matrix","title":"Creating a single simulation","text":"","code":"# We can pass a matrix with the probabilities of masters and non masters  item_probs <- matrix(c(   .2, .6,   .1, .8,   .3, .5),    ncol=2, byrow=TRUE)  test <- create_test(item_probs)"},{"path":"https://beltranpantoja.github.io/saltR/articles/Creating a single simulation.html","id":"option-2-passing-vectors","dir":"Articles","previous_headings":"Creating a test","what":"Option 2: Passing vectors","title":"Creating a single simulation","text":"second option also allows passing vectors different amount probabilities, need items different amount attributes involved. resulting matrix contains NA values. ’s key generation responses. ’s 0s considered actual values parameters. Depending number items way generated, one option efficient. ’s also hybrid option using .call.","code":"# We can also pass vectors with the probabilities   test <- create_test(   c(.1, .8),   c(.2, .7),   c(.3, .6) ) test <- create_test(   c(.1, .8),         # Simple items   c(.2, .7),   c(.3, .6),   c(.1, .4, .5, .7), # Complex items   c(.1, .4, .5, .7),   c(.1, .4, .5, .7),   c(.1, .4, .5, .7),   c(.1, .4, .5, .7),   c(.1, .4, .5, .7) ) do.call(   create_test,    replicate(3, c(.2, .7), simplify = FALSE)   ) ##           [,1]     [,2] ## [1,] -1.386294 2.233592 ## [2,] -1.386294 2.233592 ## [3,] -1.386294 2.233592"},{"path":"https://beltranpantoja.github.io/saltR/articles/Creating a single simulation.html","id":"putting-the-pieces-together","dir":"Articles","previous_headings":"","what":"Putting the pieces together","title":"Creating a single simulation","text":"Now sample, Q-matrix, test (parameters items). now use generate responses. First might want see everything checks . finally can fit DCM model:","code":"# get_probs gives us the probabilities instead of the 0/1s values.  responses_probabilities <- generate_responses(qmatrix, sample, test, get_probs=TRUE) head(responses_probabilities) ##   Item1 Item2 Item3 Item4 Item5 Item6 Item7 Item8 Item9 ## 1   0.1   0.2   0.3   0.1   0.1   0.1   0.1   0.1   0.1 ## 2   0.8   0.7   0.6   0.7   0.7   0.7   0.7   0.7   0.7 ## 3   0.1   0.2   0.3   0.1   0.1   0.1   0.1   0.1   0.1 ## 4   0.1   0.2   0.6   0.1   0.1   0.5   0.5   0.5   0.5 ## 5   0.8   0.2   0.6   0.4   0.4   0.7   0.7   0.5   0.5 ## 6   0.1   0.2   0.3   0.1   0.1   0.1   0.1   0.1   0.1 responses <- generate_responses(qmatrix, sample, test) head(responses) ##   Item1 Item2 Item3 Item4 Item5 Item6 Item7 Item8 Item9 ## 1     0     0     0     0     0     1     0     0     0 ## 2     1     1     1     0     1     0     0     0     0 ## 3     0     0     0     0     0     0     0     0     0 ## 4     0     0     0     0     0     0     0     1     1 ## 5     1     0     1     0     0     1     1     0     1 ## 6     1     0     0     0     0     0     1     0     0 model <- CDM::gdina(responses, qmatrix, linkfct = \"logit\", progress = FALSE)"},{"path":"https://beltranpantoja.github.io/saltR/articles/Running multiple simulations.html","id":"setting-the-base-design","dir":"Articles","previous_headings":"","what":"Setting the base design","title":"Running multiple simulations","text":"First create Q-matrix sample respondents. can create items simplicity. Let’s simulate one set responses: Now, simulation need : generate multiple responses, fit model somehow save results.","code":"library(saltr)  qmatrix <- create_qmatrix(3, c(0,2)) sample <- generate_sample(1000, 3, base_rate = .5) item_probs <- matrix(   rep(c(.2, .7, .7, .7), 6), # DINO item, non-master .2 probability, masters .7   nrow=6, byrow=TRUE )  test <- create_test(item_probs) test ##           [,1]     [,2]     [,3]      [,4] ## [1,] -1.386294 2.233592 2.233592 -2.233592 ## [2,] -1.386294 2.233592 2.233592 -2.233592 ## [3,] -1.386294 2.233592 2.233592 -2.233592 ## [4,] -1.386294 2.233592 2.233592 -2.233592 ## [5,] -1.386294 2.233592 2.233592 -2.233592 ## [6,] -1.386294 2.233592 2.233592 -2.233592 responses <- generate_responses(qmatrix, sample, test) head(responses) ##   Item1 Item2 Item3 Item4 Item5 Item6 ## 1     0     1     0     0     0     1 ## 2     0     0     1     1     1     1 ## 3     0     0     0     1     0     0 ## 4     0     0     1     1     0     0 ## 5     1     0     1     1     1     1 ## 6     0     0     1     0     0     0"},{"path":"https://beltranpantoja.github.io/saltR/articles/Running multiple simulations.html","id":"creating-a-simulation-function","dir":"Articles","previous_headings":"","what":"Creating a simulation function","title":"Running multiple simulations","text":"can use simple function like . function encapsulates creation responses fitting model. key using doFuture. can create function return simple value can save report . new simulation function now : can run see ’s working expected:","code":"simulation <- function() {      # Generating a new set of responses   responses <- generate_responses(qmatrix, sample, test)    # Fitting the model    model <- CDM::gdina(     responses,      qmatrix,      linkfct = \"logit\",      progress = FALSE)  } extract_parameters <- function(model) {   parameters <- model$coef[ , c(3,4,6)]    intercepts <- parameters[parameters$partype==0, 3]   main_effects <- parameters[parameters$partype %in% c(1,2), 3]      return(     c(mean(intercepts),       mean(main_effects))   ) } simulation <- function() {      # Generating a new set of responses   responses <- generate_responses(qmatrix, sample, test)    # Fitting the model    # We supress the warnings of the simulations with all 1 or 0s.   model <-suppressWarnings(CDM::gdina(     responses,      qmatrix,      linkfct = \"logit\",      progress = FALSE))    # Now we return a measure, not the model itself.   results <- extract_parameters(model)   return(results) } simulation()"},{"path":"https://beltranpantoja.github.io/saltR/articles/Running multiple simulations.html","id":"iterating","dir":"Articles","previous_headings":"","what":"Iterating","title":"Running multiple simulations","text":"can now use function iterate save results, example like :","code":"reps <- 10  results <- matrix(NA, ncol=2, nrow=reps)  for (i in 1:reps) {   results[i, ] <- simulation()   }"},{"path":"https://beltranpantoja.github.io/saltR/articles/Running multiple simulations.html","id":"parallel-processing","dir":"Articles","previous_headings":"","what":"Parallel processing","title":"Running multiple simulations","text":"saltr can used together doFuture package take advantage parallel processing library doFuturewith changes. Although, comes overhead ’s benefits don’t really show bigger simulations.","code":"library(doFuture) reps <- 10  results <- foreach(   rep = 1:reps, .combine = rbind, .options.future = list(seed = TRUE)   ) %dofuture% {     simulation() }"},{"path":"https://beltranpantoja.github.io/saltR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Beltrán Pantoja. Author, maintainer.","code":""},{"path":"https://beltranpantoja.github.io/saltR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pantoja B (2025). saltr: Simulation Leaplab Tools R. R package version 0.1.1, https://beltranpantoja.github.io/saltR/.","code":"@Manual{,   title = {saltr: Simulation And Leaplab Tools in R},   author = {Beltrán Pantoja},   year = {2025},   note = {R package version 0.1.1},   url = {https://beltranpantoja.github.io/saltR/}, }"},{"path":"https://beltranpantoja.github.io/saltR/index.html","id":"saltr-","dir":"","previous_headings":"","what":"Simulation And Leaplab Tools in R","title":"Simulation And Leaplab Tools in R","text":"goal saltR, pronounced spanish word saltar, simplify running simulations context DCMs.","code":""},{"path":"https://beltranpantoja.github.io/saltR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simulation And Leaplab Tools in R","text":"can install development version saltr GitHub :","code":"devtools::install_github(\"beltranpantoja/saltR\")"},{"path":"https://beltranpantoja.github.io/saltR/reference/create_item.html","id":null,"dir":"Reference","previous_headings":"","what":"Create item parameters from probabilities of right response — create_item","title":"Create item parameters from probabilities of right response — create_item","text":"Create item parameters probabilities right response","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_item.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create item parameters from probabilities of right response — create_item","text":"","code":"create_item(..., type = \"LCDM\", num_attrs = NULL)"},{"path":"https://beltranpantoja.github.io/saltR/reference/create_item.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create item parameters from probabilities of right response — create_item","text":"... probabilities right answer attribute profile. type type item (LCDM, DINA, DINO, RRUM). num_attrs Number attributes item. needed LCDM.","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_item.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create item parameters from probabilities of right response — create_item","text":"item parameters standard format","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_item.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create item parameters from probabilities of right response — create_item","text":"function returns vector item parameters vector probabilities right response specific attribute vector. Notice: function check  possible real values (e.g. main effects negative).","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_item.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create item parameters from probabilities of right response — create_item","text":"","code":"lcdm_item <- create_item(.2, .4, .6, .8) rrum_item <- create_item(.2, .4, .6, type = \"RRUM\") dino_item <- create_item(.2, .8, type = \"DINO\", num_attrs = 2)"},{"path":"https://beltranpantoja.github.io/saltR/reference/create_qmatrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Q-Matrix — create_qmatrix","title":"Create Q-Matrix — create_qmatrix","text":"Create Q-Matrix","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_qmatrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Q-Matrix — create_qmatrix","text":"","code":"create_qmatrix(   num_attr = 3L,   items_per_type = 1,   attributes.names = NULL,   item.names = NULL )"},{"path":"https://beltranpantoja.github.io/saltR/reference/create_qmatrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Q-Matrix — create_qmatrix","text":"num_attr attributes Q-matrix items_per_type number vector amount items per unique combination attributes.names vector names attributes. Defaults \"Attr#\" item.names vector names items. Defaults \"Item#\"","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_qmatrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Q-Matrix — create_qmatrix","text":"Q-matrix","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_qmatrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Q-Matrix — create_qmatrix","text":"","code":"# example code # This creates a 4 attribute qmatrix with 3 items per attribute. create_qmatrix(4, 3) #>        Attr1 Attr2 Attr3 Attr4 #> Item1      1     0     0     0 #> Item2      1     0     0     0 #> Item3      1     0     0     0 #> Item4      0     1     0     0 #> Item5      0     1     0     0 #> Item6      0     1     0     0 #> Item7      0     0     1     0 #> Item8      0     0     1     0 #> Item9      0     0     1     0 #> Item10     0     0     0     1 #> Item11     0     0     0     1 #> Item12     0     0     0     1  # This creates a 3 attribute qmatrix with 2 simple items per attribute, # 1 double attribute item per combination, and 1 triple attribute item. create_qmatrix(3, c(2, 1, 1)) #>        Attr1 Attr2 Attr3 #> Item1      1     0     0 #> Item2      1     0     0 #> Item3      0     1     0 #> Item4      0     1     0 #> Item5      0     0     1 #> Item6      0     0     1 #> Item7      1     1     0 #> Item8      1     0     1 #> Item9      0     1     1 #> Item10     1     1     1"},{"path":"https://beltranpantoja.github.io/saltR/reference/create_test.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a matrix of items — create_test","title":"Create a matrix of items — create_test","text":"@description utility function calls create_item function returns matrix padded NAs can used directly responses generation. assumes items LCDM.","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a matrix of items — create_test","text":"","code":"create_test(...)"},{"path":"https://beltranpantoja.github.io/saltR/reference/create_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a matrix of items — create_test","text":"... integer vectors probabilities","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/create_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a matrix of items — create_test","text":"matrix parameters","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_responses.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate responses to a test — generate_responses","title":"Generate responses to a test — generate_responses","text":"Given Q-matrix sample respondents function returns simulated response matrix. Items parameter automatically mapped right attribute.","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_responses.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate responses to a test — generate_responses","text":"","code":"generate_responses(qmat, respondents, items, get_probs = FALSE)"},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_responses.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate responses to a test — generate_responses","text":"qmat Q-matrix respondents Binary matrix respondents items matrix items-parameters get_probs want probability correct response matrix.","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_responses.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate responses to a test — generate_responses","text":"matrix responses form 0/1 real probabilities.","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_sample.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate sample of respondents (categorical data) — generate_sample","title":"Generate sample of respondents (categorical data) — generate_sample","text":"Generate sample respondents (categorical data)","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_sample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate sample of respondents (categorical data) — generate_sample","text":"","code":"generate_sample(   sample_size,   total_attrs,   base_rate = 0.5,   attr_corr = 0.5,   attributes.names = NULL,   responses.names = NULL )"},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_sample.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate sample of respondents (categorical data) — generate_sample","text":"sample_size many respondents total_attrs many attributes sample base_rate Base rate per attribute (one ) attr_corr Correlation attributes (one ) attributes.names vector names attributes. Defaults \"Attr#\" responses.names vector names responses. Defaults \"#\"","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/generate_sample.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate sample of respondents (categorical data) — generate_sample","text":"matrix respondents attributes.","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/get_ideal_patterns.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the matrix of the possible ideal responses patterns from a qmatrix — get_ideal_patterns","title":"Get the matrix of the possible ideal responses patterns from a qmatrix — get_ideal_patterns","text":"Get matrix possible ideal responses patterns qmatrix","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/get_ideal_patterns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the matrix of the possible ideal responses patterns from a qmatrix — get_ideal_patterns","text":"","code":"get_ideal_patterns(qmat, rule)"},{"path":"https://beltranpantoja.github.io/saltR/reference/get_ideal_patterns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the matrix of the possible ideal responses patterns from a qmatrix — get_ideal_patterns","text":"qmat Q-matrix generate patterns rule DINA (students relevant attributes item correct) DINO (students least one relevant attribute item correct)","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/get_ideal_patterns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the matrix of the possible ideal responses patterns from a qmatrix — get_ideal_patterns","text":"matrix responses patterns items","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/get_information.html","id":null,"dir":"Reference","previous_headings":"","what":"Get attribute information — get_information","title":"Get attribute information — get_information","text":"Get attribute information","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/get_information.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get attribute information — get_information","text":"","code":"get_information(model, responses)"},{"path":"https://beltranpantoja.github.io/saltR/reference/get_information.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get attribute information — get_information","text":"model fitted gdina model responses response data","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/get_information.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get attribute information — get_information","text":"list info info proportion attribute","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/tidy_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert the parameters of a model and/or test into a tibble for easier analysis — tidy_parameters","title":"Convert the parameters of a model and/or test into a tibble for easier analysis — tidy_parameters","text":"Convert parameters model /test tibble easier analysis","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/tidy_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert the parameters of a model and/or test into a tibble for easier analysis — tidy_parameters","text":"","code":"tidy_parameters(model = NULL, qmat = NULL, test = NULL)"},{"path":"https://beltranpantoja.github.io/saltR/reference/tidy_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert the parameters of a model and/or test into a tibble for easier analysis — tidy_parameters","text":"model fitted gdina model qmat Q-matrix test test matrix (obtained create_test)","code":""},{"path":"https://beltranpantoja.github.io/saltR/reference/tidy_parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert the parameters of a model and/or test into a tibble for easier analysis — tidy_parameters","text":"tibble estimation /real values items.","code":""}]
